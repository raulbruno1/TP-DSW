2a941a0c3084e7945d81b7dc8c774b30
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("@angular/core/testing");
const cursos_component_1 = require("./cursos.component");
const materiadata_service_mock_1 = require("src/app/mocks/materiadata.service.mock");
const materiadata_service_1 = require("src/app/services/materiadata.service");
const dialog_service_mock_1 = require("src/app/mocks/dialog.service.mock");
const dialog_service_1 = require("src/app/services/dialog.service");
const http_1 = require("@angular/common/http");
const router_1 = require("@angular/router");
const rxjs_1 = require("rxjs");
const httpMock = { get: jest.fn() };
const dialogMock = { open: jest.fn(),
    openFailureDialog: jest.fn(), };
describe('CursosComponent', () => {
    let component;
    let fixture;
    beforeEach(() => {
        testing_1.TestBed.configureTestingModule({
            declarations: [cursos_component_1.CursosComponent],
            providers: [{ provide: materiadata_service_1.CoursedataService, useClass: materiadata_service_mock_1.CoursedataServiceMock },
                { provide: dialog_service_1.DialogService, useClass: dialog_service_mock_1.DialogServiceMock },
                { provide: http_1.HttpClient, useValue: httpMock },
                { provide: dialog_service_1.DialogService, useValue: dialogMock }]
        }).compileComponents();
        fixture = testing_1.TestBed.createComponent(cursos_component_1.CursosComponent);
        component = fixture.componentInstance;
        fixture.detectChanges();
    });
    it('should handle error when getAllCourses fails', () => {
        const courseService = testing_1.TestBed.inject(materiadata_service_1.CoursedataService);
        const dialogService = testing_1.TestBed.inject(dialog_service_1.DialogService);
        const router = testing_1.TestBed.inject(router_1.Router);
        jest.spyOn(courseService, 'getAllCourses').mockImplementation(() => (0, rxjs_1.throwError)(() => new ErrorEvent('Network error')));
        const mockDialogRef = { afterClosed: () => (0, rxjs_1.of)({}) };
        jest.spyOn(dialogService, 'openFailureDialog').mockReturnValue(mockDialogRef);
        jest.spyOn(router, 'navigate').mockImplementation(() => Promise.resolve(true));
        component.ngOnInit();
        expect(courseService.getAllCourses).toHaveBeenCalled();
        expect(dialogService.openFailureDialog).toHaveBeenCalledWith('Error al cargar los datos, intente nuevamente');
        expect(router.navigate).toHaveBeenCalledWith(['/cursos']);
    });
    it('should create', () => {
        expect(component).toBeTruthy();
    });
    it('should have "all" as the default selected category', () => {
        expect(component.selected_category).toEqual('all');
    });
    it('should filter courses by category', () => {
        const category = 'principiante';
        component.original_courses = [
            { id: '312313333', name: 'test', totalhours: 45, email: 'email@prueba', desc: 'hola', icon: '/assets/cursos/motherboard.svg', level: 'principiante' },
            { id: '312313334', name: 'test2', totalhours: 45, email: 'email2@prueba', desc: 'hola', icon: '/assets/cursos/motherboard.svg', level: 'avanzado' },
            { id: '312313335', name: 'test3', totalhours: 45, email: 'email3@prueba', desc: 'hola', icon: '/assets/cursos/motherboard.svg', level: 'principiante' }
        ];
        component.filterByCategory(category);
        expect(component.courses).toEqual(component.original_courses.filter((course) => course.level === category));
    });
    it('should show all courses when ShowAll is called', () => {
        component.ShowAll();
        expect(component.courses).toEqual(component.original_courses);
    });
    it('should reset selected category and courses when restart is called', () => {
        component.restart();
        expect(component.selected_category).toEqual('all');
        expect(component.courses).toEqual(component.original_courses);
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxKdWxpw6FuXFxEZXNrdG9wXFxmcm9udFxcZnJvbnRlbmQtYXBwXFxzcmNcXGFwcFxcY29tcG9uZW50c1xcY3Vyc29zXFxjdXJzb3MuY29tcG9uZW50LnNwZWMudHMiLCJtYXBwaW5ncyI6Ijs7QUFBQSxtREFBa0U7QUFDbEUseURBQXFEO0FBQ3JELHFGQUErRTtBQUMvRSw4RUFBeUU7QUFDekUsMkVBQXNFO0FBQ3RFLG9FQUFnRTtBQUNoRSwrQ0FBa0Q7QUFDbEQsNENBQXlDO0FBQ3pDLCtCQUFpRDtBQUlqRCxNQUFNLFFBQVEsR0FBRyxFQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUMsQ0FBQztBQUNsQyxNQUFNLFVBQVUsR0FBRSxFQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQ2hDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsR0FBRSxDQUFDO0FBRWpDLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUU7SUFDL0IsSUFBSSxTQUEwQixDQUFDO0lBQy9CLElBQUksT0FBMEMsQ0FBQztJQUUvQyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsaUJBQU8sQ0FBQyxzQkFBc0IsQ0FBQztZQUM3QixZQUFZLEVBQUUsQ0FBQyxrQ0FBZSxDQUFDO1lBQy9CLFNBQVMsRUFBRSxDQUFDLEVBQUMsT0FBTyxFQUFFLHVDQUFpQixFQUFFLFFBQVEsRUFBRSxnREFBcUIsRUFBQztnQkFDN0QsRUFBQyxPQUFPLEVBQUUsOEJBQWEsRUFBRSxRQUFRLEVBQUUsdUNBQWlCLEVBQUM7Z0JBQ3ZELEVBQUMsT0FBTyxFQUFFLGlCQUFVLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBQztnQkFDekMsRUFBQyxPQUFPLEVBQUUsOEJBQWEsRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFDLENBQUM7U0FDMUQsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDdkIsT0FBTyxHQUFHLGlCQUFPLENBQUMsZUFBZSxDQUFDLGtDQUFlLENBQUMs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UyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JDLE1BQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUEwQixFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDbEksQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsZ0RBQWdELEVBQUUsR0FBRyxFQUFFO1FBQ3hELFNBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNwQixNQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNoRSxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxtRUFBbUUsRUFBRSxHQUFHLEVBQUU7UUFDM0UsU0FBUyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3BCLE1BQU0sQ0FBQyxTQUFTLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDaEUsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXEp1bGnDoW5cXERlc2t0b3BcXGZyb250XFxmcm9udGVuZC1hcHBcXHNyY1xcYXBwXFxjb21wb25lbnRzXFxjdXJzb3NcXGN1cnNvcy5jb21wb25lbnQuc3BlYy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnRGaXh0dXJlLCBUZXN0QmVkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZS90ZXN0aW5nJztcclxuaW1wb3J0IHsgQ3Vyc29zQ29tcG9uZW50IH0gZnJvbSAnLi9jdXJzb3MuY29tcG9uZW50JztcclxuaW1wb3J0IHsgQ291cnNlZGF0YVNlcnZpY2VNb2NrIH0gZnJvbSAnc3JjL2FwcC9tb2Nrcy9tYXRlcmlhZGF0YS5zZXJ2aWNlLm1vY2snO1xyXG5pbXBvcnQgeyBDb3Vyc2VkYXRhU2VydmljZSB9IGZyb20gJ3NyYy9hcHAvc2VydmljZXMvbWF0ZXJpYWRhdGEuc2VydmljZSc7XHJcbmltcG9ydCB7IERpYWxvZ1NlcnZpY2VNb2NrIH0gZnJvbSAnc3JjL2FwcC9tb2Nrcy9kaWFsb2cuc2VydmljZS5tb2NrJztcclxuaW1wb3J0IHsgRGlhbG9nU2VydmljZSB9IGZyb20gJ3NyYy9hcHAvc2VydmljZXMvZGlhbG9nLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xyXG5pbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xyXG5pbXBvcnQgeyBvZiwgc3dpdGNoTWFwLCB0aHJvd0Vycm9yIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IE1hdERpYWxvZ1JlZiB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XHJcbmltcG9ydCB7IEVycm9yQXZpc29Db21wb25lbnQgfSBmcm9tICcuLi9lcnJvci1hdmlzby9lcnJvci1hdmlzby5jb21wb25lbnQnO1xyXG5cclxuY29uc3QgaHR0cE1vY2sgPSB7Z2V0OiBqZXN0LmZuKCl9O1xyXG5jb25zdCBkaWFsb2dNb2NrPSB7b3BlbjogamVzdC5mbigpLFxyXG4gIG9wZW5GYWlsdXJlRGlhbG9nOiBqZXN0LmZuKCksfTtcclxuXHJcbmRlc2NyaWJlKCdDdXJzb3NDb21wb25lbnQnLCAoKSA9PiB7XHJcbiAgbGV0IGNvbXBvbmVudDogQ3Vyc29zQ29tcG9uZW50O1xyXG4gIGxldCBmaXh0dXJlOiBDb21wb25lbnRGaXh0dXJlPEN1cnNvc0NvbXBvbmVudD47XHJcblxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgVGVzdEJlZC5jb25maWd1cmVUZXN0aW5nTW9kdWxlKHtcclxuICAgICAgZGVjbGFyYXRpb25zOiBbQ3Vyc29zQ29tcG9uZW50XSxcclxuICAgICAgcHJvdmlkZXJzOiBbe3Byb3ZpZGU6IENvdXJzZWRhdGFTZXJ2aWNlLCB1c2VDbGFzczogQ291cnNlZGF0YVNlcnZpY2VNb2NrfSxcclxuICAgICAgICAgICAgICAgICAge3Byb3ZpZGU6IERpYWxvZ1NlcnZpY2UsIHVzZUNsYXNzOiBEaWFsb2dTZXJ2aWNlTW9ja30sXHJcbiAgICAgICAgICAgICAgICB7cHJvdmlkZTogSHR0cENsaWVudCwgdXNlVmFsdWU6IGh0dHBNb2NrfSxcclxuICAgICAgICAgICAgICAgIHtwcm92aWRlOiBEaWFsb2dTZXJ2aWNlLCB1c2VWYWx1ZTogZGlhbG9nTW9ja31dXHJcbiAgICB9KS5jb21waWxlQ29tcG9uZW50cygpO1xyXG4gICAgZml4dHVyZSA9IFRlc3RCZWQuY3JlYXRlQ29tcG9uZW50KEN1cnNvc0NvbXBvbmVudCk7XHJcbiAgICBjb21wb25lbnQgPSBmaXh0dXJlLmNvbXBvbmVudEluc3RhbmNlO1xyXG4gICAgZml4dHVyZS5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGFuZGxlIGVycm9yIHdoZW4gZ2V0QWxsQ291cnNlcyBmYWlscycsICgpID0+IHtcclxuICAgIGNvbnN0IGNvdXJzZVNlcnZpY2UgPSBUZXN0QmVkLmluamVjdChDb3Vyc2VkYXRhU2VydmljZSk7XHJcbiAgICBjb25zdCBkaWFsb2dTZXJ2aWNlID0gVGVzdEJlZC5pbmplY3QoRGlhbG9nU2VydmljZSk7XHJcbiAgICBjb25zdCByb3V0ZXIgPSBUZXN0QmVkLmluamVjdChSb3V0ZXIpO1xyXG5cclxuICAgIGplc3Quc3B5T24oY291cnNlU2VydmljZSwgJ2dldEFsbENvdXJzZXMnKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gdGhyb3dFcnJvcigoKSA9PiBuZXcgRXJyb3JFdmVudCgnTmV0d29yayBlcnJvcicpKSk7XHJcbiAgICBjb25zdCBtb2NrRGlhbG9nUmVmID0geyBhZnRlckNsb3NlZDogKCkgPT4gb2Yoe30pIH0gYXMgTWF0RGlhbG9nUmVmPEVycm9yQXZpc29Db21wb25lbnQsIGFueT47XHJcbiAgICBqZXN0LnNweU9uKGRpYWxvZ1NlcnZpY2UsICdvcGVuRmFpbHVyZURpYWxvZycpLm1vY2tSZXR1cm5WYWx1ZShtb2NrRGlhbG9nUmVmKTtcclxuICAgIGplc3Quc3B5T24ocm91dGVyLCAnbmF2aWdhdGUnKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHRydWUpKTtcclxuICBcclxuICAgIGNvbXBvbmVudC5uZ09uSW5pdCgpO1xyXG4gIFxyXG4gICAgZXhwZWN0KGNvdXJzZVNlcnZpY2UuZ2V0QWxsQ291cnNlcykudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgZXhwZWN0KGRpYWxvZ1NlcnZpY2Uub3BlbkZhaWx1cmVEaWFsb2cpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdFcnJvciBhbCBjYXJnYXIgbG9zIGRhdG9zLCBpbnRlbnRlIG51ZXZhbWVudGUnKTtcclxuICAgIGV4cGVjdChyb3V0ZXIubmF2aWdhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFsnL2N1cnNvcyddKTtcclxuICB9KTtcclxuICBcclxuXHJcbiAgaXQoJ3Nob3VsZCBjcmVhdGUnLCAoKSA9PiB7XHJcbiAgICBleHBlY3QoY29tcG9uZW50KS50b0JlVHJ1dGh5KCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGF2ZSBcImFsbFwiIGFzIHRoZSBkZWZhdWx0IHNlbGVjdGVkIGNhdGVnb3J5JywgKCkgPT4ge1xyXG4gICAgZXhwZWN0KGNvbXBvbmVudC5zZWxlY3RlZF9jYXRlZ29yeSkudG9FcXVhbCgnYWxsJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgZmlsdGVyIGNvdXJzZXMgYnkgY2F0ZWdvcnknLCAoKSA9PiB7XHJcbiAgICBjb25zdCBjYXRlZ29yeSA9ICdwcmluY2lwaWFudGUnO1xyXG4gICAgY29tcG9uZW50Lm9yaWdpbmFsX2NvdXJzZXMgPSBbXHJcbiAgICAgIHsgaWQ6ICczMTIzMTMzMzMnLG5hbWU6ICd0ZXN0Jyx0b3RhbGhvdXJzOjQ1LCBlbWFpbDogJ2VtYWlsQHBydWViYScsIGRlc2M6ICdob2xhJywgaWNvbjogJy9hc3NldHMvY3Vyc29zL21vdGhlcmJvYXJkLnN2ZycgLCBsZXZlbDogJ3ByaW5jaXBpYW50ZScgfSxcclxuICAgICAgeyBpZDogJzMxMjMxMzMzNCcsbmFtZTogJ3Rlc3QyJyx0b3RhbGhvdXJzOjQ1LCBlbWFpbDogJ2VtYWlsMkBwcnVlYmEnLCBkZXNjOiAnaG9sYScsIGljb246ICcvYXNzZXRzL2N1cnNvcy9tb3RoZXJib2FyZC5zdmcnICwgbGV2ZWw6ICdhdmFuemFkbycgfSxcclxuICAgICAgeyBpZDogJzMxMjMxMzMzNScsbmFtZTogJ3Rlc3QzJyx0b3RhbGhvdXJzOjQ1LCBlbWFpbDogJ2VtYWlsM0BwcnVlYmEnLCBkZXNjOiAnaG9sYScsIGljb246ICcvYXNzZXRzL2N1cnNvcy9tb3RoZXJib2FyZC5zdmcnICwgbGV2ZWw6ICdwcmluY2lwaWFudGUnIH1cclxuICAgIF07XHJcbiAgICBjb21wb25lbnQuZmlsdGVyQnlDYXRlZ29yeShjYXRlZ29yeSk7XHJcbiAgICBleHBlY3QoY29tcG9uZW50LmNvdXJzZXMpLnRvRXF1YWwoY29tcG9uZW50Lm9yaWdpbmFsX2NvdXJzZXMuZmlsdGVyKChjb3Vyc2U6IHsgbGV2ZWw6IHN0cmluZzsgfSkgPT4gY291cnNlLmxldmVsID09PSBjYXRlZ29yeSkpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHNob3cgYWxsIGNvdXJzZXMgd2hlbiBTaG93QWxsIGlzIGNhbGxlZCcsICgpID0+IHtcclxuICAgIGNvbXBvbmVudC5TaG93QWxsKCk7XHJcbiAgICBleHBlY3QoY29tcG9uZW50LmNvdXJzZXMpLnRvRXF1YWwoY29tcG9uZW50Lm9yaWdpbmFsX2NvdXJzZXMpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHJlc2V0IHNlbGVjdGVkIGNhdGVnb3J5IGFuZCBjb3Vyc2VzIHdoZW4gcmVzdGFydCBpcyBjYWxsZWQnLCAoKSA9PiB7XHJcbiAgICBjb21wb25lbnQucmVzdGFydCgpO1xyXG4gICAgZXhwZWN0KGNvbXBvbmVudC5zZWxlY3RlZF9jYXRlZ29yeSkudG9FcXVhbCgnYWxsJyk7XHJcbiAgICBleHBlY3QoY29tcG9uZW50LmNvdXJzZXMpLnRvRXF1YWwoY29tcG9uZW50Lm9yaWdpbmFsX2NvdXJzZXMpO1xyXG4gIH0pO1xyXG59KTsiXSwidmVyc2lvbiI6M30=