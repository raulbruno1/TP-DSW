7333b391ac5c1e25a110ddf5308e070b
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("@angular/core/testing");
const cursos_component_1 = require("./cursos.component");
const materiadata_service_mock_1 = require("src/app/mocks/materiadata.service.mock");
const materiadata_service_1 = require("src/app/services/materiadata.service");
const dialog_service_mock_1 = require("src/app/mocks/dialog.service.mock");
const dialog_service_1 = require("src/app/services/dialog.service");
const http_1 = require("@angular/common/http");
const router_1 = require("@angular/router");
const rxjs_1 = require("rxjs");
const httpMock = { get: jest.fn() };
const dialogMock = { open: jest.fn() };
describe('CursosComponent', () => {
    let component;
    let fixture;
    beforeEach(() => {
        testing_1.TestBed.configureTestingModule({
            declarations: [cursos_component_1.CursosComponent],
            providers: [{ provide: materiadata_service_1.CoursedataService, useClass: materiadata_service_mock_1.CoursedataServiceMock },
                { provide: dialog_service_1.DialogService, useClass: dialog_service_mock_1.DialogServiceMock },
                { provide: http_1.HttpClient, useValue: httpMock },
                { provide: dialog_service_1.DialogService, useValue: dialogMock }]
        }).compileComponents();
        fixture = testing_1.TestBed.createComponent(cursos_component_1.CursosComponent);
        component = fixture.componentInstance;
        fixture.detectChanges();
    });
    it('should handle error when getAllCourses fails', () => {
        const courseService = testing_1.TestBed.inject(materiadata_service_1.CoursedataService);
        const dialogService = testing_1.TestBed.inject(dialog_service_1.DialogService);
        const router = testing_1.TestBed.inject(router_1.Router);
        jest.spyOn(courseService, 'getAllCourses').mockImplementation(() => (0, rxjs_1.throwError)(() => new ErrorEvent('Network error')));
        const mockDialogRef = { afterClosed: () => (0, rxjs_1.of)({}) };
        jest.spyOn(dialogService, 'openFailureDialog').mockReturnValue(mockDialogRef);
        jest.spyOn(router, 'navigate').mockImplementation(() => Promise.resolve(true));
        component.ngOnInit();
        expect(courseService.getAllCourses).toHaveBeenCalled();
        expect(dialogService.openFailureDialog).toHaveBeenCalledWith('Error al cargar los datos, intente nuevamente');
        expect(router.navigate).toHaveBeenCalledWith(['/cursos']);
    });
    it('should create', () => {
        expect(component).toBeTruthy();
    });
    it('should have "all" as the default selected category', () => {
        expect(component.selected_category).toEqual('all');
    });
    it('should filter courses by category', () => {
        const category = 'principiante';
        component.original_courses = [
            { id: '312313333', name: 'test', totalhours: 45, email: 'email@prueba', desc: 'hola', icon: '/assets/cursos/motherboard.svg', level: 'principiante' },
            { id: '312313334', name: 'test2', totalhours: 45, email: 'email2@prueba', desc: 'hola', icon: '/assets/cursos/motherboard.svg', level: 'avanzado' },
            { id: '312313335', name: 'test3', totalhours: 45, email: 'email3@prueba', desc: 'hola', icon: '/assets/cursos/motherboard.svg', level: 'principiante' }
        ];
        component.filterByCategory(category);
        expect(component.courses).toEqual(component.original_courses.filter((course) => course.level === category));
    });
    it('should show all courses when ShowAll is called', () => {
        component.ShowAll();
        expect(component.courses).toEqual(component.original_courses);
    });
    it('should reset selected category and courses when restart is called', () => {
        component.restart();
        expect(component.selected_category).toEqual('all');
        expect(component.courses).toEqual(component.original_courses);
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxKdWxpw6FuXFxEZXNrdG9wXFxmcm9udFxcZnJvbnRlbmQtYXBwXFxzcmNcXGFwcFxcY29tcG9uZW50c1xcY3Vyc29zXFxjdXJzb3MuY29tcG9uZW50LnNwZWMudHMiLCJtYXBwaW5ncyI6Ijs7QUFBQSxtREFBa0U7QUFDbEUseURBQXFEO0FBQ3JELHFGQUErRTtBQUMvRSw4RUFBeUU7QUFDekUsMkVBQXNFO0FBQ3RFLG9FQUFnRTtBQUNoRSwrQ0FBa0Q7QUFDbEQsNENBQXlDO0FBQ3pDLCtCQUFpRDtBQUlqRCxNQUFNLFFBQVEsR0FBRyxFQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUMsQ0FBQztBQUNsQyxNQUFNLFVBQVUsR0FBRSxFQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUMsQ0FBQztBQUVwQyxRQUFRLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO0lBQy9CLElBQUksU0FBMEIsQ0FBQztJQUMvQixJQUFJLE9BQTBDLENBQUM7SUFFL0MsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLGlCQUFPLENBQUMsc0JBQXNCLENBQUM7WUFDN0IsWUFBWSxFQUFFLENBQUMsa0NBQWUsQ0FBQztZQUMvQixTQUFTLEVBQUUsQ0FBQyxFQUFDLE9BQU8sRUFBRSx1Q0FBaUIsRUFBRSxRQUFRLEVBQUUsZ0RBQXFCLEVBQUM7Z0JBQzdELEVBQUMsT0FBTyxFQUFFLDhCQUFhLEVBQUUsUUFBUSxFQUFFLHVDQUFpQixFQUFDO2dCQUN2RCxFQUFDLE9BQU8sRUFBRSxpQkFBVSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUM7Z0JBQ3pDLEVBQUMsT0FBTyxFQUFFLDhCQUFhLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBQyxDQUFDO1NBQzFELENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3ZCLE9BQU8sR0FBRyxpQkFBTyxDQUFDLGVBQWUsQ0FBQyxrQ0FBZSxDQUFDLENBQUM7UUFDbkQsU0FBUyxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztRQUN0QyxPQUFPLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDMUIsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsOENBQThDLEVBQUUsR0FBRyxFQUFFO1FBQ3RELE1BQU0sYUFBYSxHQUFHLGlCQUFPLENBQUMsTUFBTSxDQUFDLHVDQUFpQixDQUFDLENBQUM7UUFDeEQsTUFBTSxhQUFhLEdBQUcsaUJBQU8sQ0FBQyxNQUFNLENBQUMsOEJBQWEsQ0FBQyxDQUFDO1FBQ3BELE1BQU0sTUFBTSxHQUFHLGlCQUFPLENBQUMsTUFBTSxDQUFDLGVBQU0sQ0FBQyxDQUFDO1FBRXRDLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFLGVBQWUsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUEsaUJBQVUsRUFBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkgsTUFBTSxhQUFhLEdBQUcsRUFBRSxXQUFXLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBQSxTQUFFLEVBQUMsRUFBRSxDQUFDLEVBQTRDLENBQUM7UUFDOUYsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLEVBQUUsbUJBQW1CLENBQUMsQ0FBQyxlQUFlLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDOUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUMsa0JBQWtCLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBRS9FLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUVyQixNQUFNLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDdkQsTUFBTSxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLCtDQUErQyxDQUFDLENBQUM7UUFDOUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDNUQsQ0FBQyxDQUFDLENBQUM7SUFHSCxFQUFFLENBQUMsZUFBZSxFQUFFLEdBQUcsRUFBRTtRQUN2QixNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDakMsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsb0RBQW9ELEVBQUUsR0FBRyxFQUFFO1FBQzVELE1BQU0sQ0FBQyxTQUFTLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsbUNBQW1DLEVBQUUsR0FBRyxFQUFFO1FBQzNDLE1BQU0sUUFBUSxHQUFHLGNBQWMsQ0FBQztRQUNoQyxTQUFTLENBQUMsZ0JBQWdCLEdBQUc7WUFDM0IsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFDLElBQUksRUFBRSxNQUFNLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsY0FBYyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLGdDQUFnQyxFQUFHLEtBQUssRUFBRSxjQUFjLEVBQUU7WUFDbkosRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFDLElBQUksRUFBRSxPQUFPLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLGdDQUFnQyxFQUFHLEtBQUssRUFBRSxVQUFVLEVBQUU7WUFDakosRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFDLElBQUksRUFBRSxPQUFPLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLGdDQUFnQyxFQUFHLEtBQUssRUFBRSxjQUFjLEVBQUU7U0FDdEosQ0FBQztRQUNGLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNyQyxNQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBMEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ2xJLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLGdEQUFnRCxFQUFFLEdBQUcsRUFBRTtRQUN4RCxTQUFTLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDcEIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDaEUsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsbUVBQW1FLEVBQUUsR0FBRyxFQUFFO1FBQzNFLFNBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNwQixNQUFNLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25ELE1BQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ2hFLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxKdWxpw6FuXFxEZXNrdG9wXFxmcm9udFxcZnJvbnRlbmQtYXBwXFxzcmNcXGFwcFxcY29tcG9uZW50c1xcY3Vyc29zXFxjdXJzb3MuY29tcG9uZW50LnNwZWMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50Rml4dHVyZSwgVGVzdEJlZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvdGVzdGluZyc7XHJcbmltcG9ydCB7IEN1cnNvc0NvbXBvbmVudCB9IGZyb20gJy4vY3Vyc29zLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IENvdXJzZWRhdGFTZXJ2aWNlTW9jayB9IGZyb20gJ3NyYy9hcHAvbW9ja3MvbWF0ZXJpYWRhdGEuc2VydmljZS5tb2NrJztcclxuaW1wb3J0IHsgQ291cnNlZGF0YVNlcnZpY2UgfSBmcm9tICdzcmMvYXBwL3NlcnZpY2VzL21hdGVyaWFkYXRhLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBEaWFsb2dTZXJ2aWNlTW9jayB9IGZyb20gJ3NyYy9hcHAvbW9ja3MvZGlhbG9nLnNlcnZpY2UubW9jayc7XHJcbmltcG9ydCB7IERpYWxvZ1NlcnZpY2UgfSBmcm9tICdzcmMvYXBwL3NlcnZpY2VzL2RpYWxvZy5zZXJ2aWNlJztcclxuaW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcclxuaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgb2YsIHN3aXRjaE1hcCwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBNYXREaWFsb2dSZWYgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9kaWFsb2cnO1xyXG5pbXBvcnQgeyBFcnJvckF2aXNvQ29tcG9uZW50IH0gZnJvbSAnLi4vZXJyb3ItYXZpc28vZXJyb3ItYXZpc28uY29tcG9uZW50JztcclxuXHJcbmNvbnN0IGh0dHBNb2NrID0ge2dldDogamVzdC5mbigpfTtcclxuY29uc3QgZGlhbG9nTW9jaz0ge29wZW46IGplc3QuZm4oKX07XHJcblxyXG5kZXNjcmliZSgnQ3Vyc29zQ29tcG9uZW50JywgKCkgPT4ge1xyXG4gIGxldCBjb21wb25lbnQ6IEN1cnNvc0NvbXBvbmVudDtcclxuICBsZXQgZml4dHVyZTogQ29tcG9uZW50Rml4dHVyZTxDdXJzb3NDb21wb25lbnQ+O1xyXG5cclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIFRlc3RCZWQuY29uZmlndXJlVGVzdGluZ01vZHVsZSh7XHJcbiAgICAgIGRlY2xhcmF0aW9uczogW0N1cnNvc0NvbXBvbmVudF0sXHJcbiAgICAgIHByb3ZpZGVyczogW3twcm92aWRlOiBDb3Vyc2VkYXRhU2VydmljZSwgdXNlQ2xhc3M6IENvdXJzZWRhdGFTZXJ2aWNlTW9ja30sXHJcbiAgICAgICAgICAgICAgICAgIHtwcm92aWRlOiBEaWFsb2dTZXJ2aWNlLCB1c2VDbGFzczogRGlhbG9nU2VydmljZU1vY2t9LFxyXG4gICAgICAgICAgICAgICAge3Byb3ZpZGU6IEh0dHBDbGllbnQsIHVzZVZhbHVlOiBodHRwTW9ja30sXHJcbiAgICAgICAgICAgICAgICB7cHJvdmlkZTogRGlhbG9nU2VydmljZSwgdXNlVmFsdWU6IGRpYWxvZ01vY2t9XVxyXG4gICAgfSkuY29tcGlsZUNvbXBvbmVudHMoKTtcclxuICAgIGZpeHR1cmUgPSBUZXN0QmVkLmNyZWF0ZUNvbXBvbmVudChDdXJzb3NDb21wb25lbnQpO1xyXG4gICAgY29tcG9uZW50ID0gZml4dHVyZS5jb21wb25lbnRJbnN0YW5jZTtcclxuICAgIGZpeHR1cmUuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGhhbmRsZSBlcnJvciB3aGVuIGdldEFsbENvdXJzZXMgZmFpbHMnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBjb3Vyc2VTZXJ2aWNlID0gVGVzdEJlZC5pbmplY3QoQ291cnNlZGF0YVNlcnZpY2UpO1xyXG4gICAgY29uc3QgZGlhbG9nU2VydmljZSA9IFRlc3RCZWQuaW5qZWN0KERpYWxvZ1NlcnZpY2UpO1xyXG4gICAgY29uc3Qgcm91dGVyID0gVGVzdEJlZC5pbmplY3QoUm91dGVyKTtcclxuXHJcbiAgICBqZXN0LnNweU9uKGNvdXJzZVNlcnZpY2UsICdnZXRBbGxDb3Vyc2VzJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHRocm93RXJyb3IoKCkgPT4gbmV3IEVycm9yRXZlbnQoJ05ldHdvcmsgZXJyb3InKSkpO1xyXG4gICAgY29uc3QgbW9ja0RpYWxvZ1JlZiA9IHsgYWZ0ZXJDbG9zZWQ6ICgpID0+IG9mKHt9KSB9IGFzIE1hdERpYWxvZ1JlZjxFcnJvckF2aXNvQ29tcG9uZW50LCBhbnk+O1xyXG4gICAgamVzdC5zcHlPbihkaWFsb2dTZXJ2aWNlLCAnb3BlbkZhaWx1cmVEaWFsb2cnKS5tb2NrUmV0dXJuVmFsdWUobW9ja0RpYWxvZ1JlZik7XHJcbiAgICBqZXN0LnNweU9uKHJvdXRlciwgJ25hdmlnYXRlJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IFByb21pc2UucmVzb2x2ZSh0cnVlKSk7XHJcbiAgXHJcbiAgICBjb21wb25lbnQubmdPbkluaXQoKTtcclxuICBcclxuICAgIGV4cGVjdChjb3Vyc2VTZXJ2aWNlLmdldEFsbENvdXJzZXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIGV4cGVjdChkaWFsb2dTZXJ2aWNlLm9wZW5GYWlsdXJlRGlhbG9nKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnRXJyb3IgYWwgY2FyZ2FyIGxvcyBkYXRvcywgaW50ZW50ZSBudWV2YW1lbnRlJyk7XHJcbiAgICBleHBlY3Qocm91dGVyLm5hdmlnYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChbJy9jdXJzb3MnXSk7XHJcbiAgfSk7XHJcbiAgXHJcblxyXG4gIGl0KCdzaG91bGQgY3JlYXRlJywgKCkgPT4ge1xyXG4gICAgZXhwZWN0KGNvbXBvbmVudCkudG9CZVRydXRoeSgpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGhhdmUgXCJhbGxcIiBhcyB0aGUgZGVmYXVsdCBzZWxlY3RlZCBjYXRlZ29yeScsICgpID0+IHtcclxuICAgIGV4cGVjdChjb21wb25lbnQuc2VsZWN0ZWRfY2F0ZWdvcnkpLnRvRXF1YWwoJ2FsbCcpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGZpbHRlciBjb3Vyc2VzIGJ5IGNhdGVnb3J5JywgKCkgPT4ge1xyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSAncHJpbmNpcGlhbnRlJztcclxuICAgIGNvbXBvbmVudC5vcmlnaW5hbF9jb3Vyc2VzID0gW1xyXG4gICAgICB7IGlkOiAnMzEyMzEzMzMzJyxuYW1lOiAndGVzdCcsdG90YWxob3Vyczo0NSwgZW1haWw6ICdlbWFpbEBwcnVlYmEnLCBkZXNjOiAnaG9sYScsIGljb246ICcvYXNzZXRzL2N1cnNvcy9tb3RoZXJib2FyZC5zdmcnICwgbGV2ZWw6ICdwcmluY2lwaWFudGUnIH0sXHJcbiAgICAgIHsgaWQ6ICczMTIzMTMzMzQnLG5hbWU6ICd0ZXN0MicsdG90YWxob3Vyczo0NSwgZW1haWw6ICdlbWFpbDJAcHJ1ZWJhJywgZGVzYzogJ2hvbGEnLCBpY29uOiAnL2Fzc2V0cy9jdXJzb3MvbW90aGVyYm9hcmQuc3ZnJyAsIGxldmVsOiAnYXZhbnphZG8nIH0sXHJcbiAgICAgIHsgaWQ6ICczMTIzMTMzMzUnLG5hbWU6ICd0ZXN0MycsdG90YWxob3Vyczo0NSwgZW1haWw6ICdlbWFpbDNAcHJ1ZWJhJywgZGVzYzogJ2hvbGEnLCBpY29uOiAnL2Fzc2V0cy9jdXJzb3MvbW90aGVyYm9hcmQuc3ZnJyAsIGxldmVsOiAncHJpbmNpcGlhbnRlJyB9XHJcbiAgICBdO1xyXG4gICAgY29tcG9uZW50LmZpbHRlckJ5Q2F0ZWdvcnkoY2F0ZWdvcnkpO1xyXG4gICAgZXhwZWN0KGNvbXBvbmVudC5jb3Vyc2VzKS50b0VxdWFsKGNvbXBvbmVudC5vcmlnaW5hbF9jb3Vyc2VzLmZpbHRlcigoY291cnNlOiB7IGxldmVsOiBzdHJpbmc7IH0pID0+IGNvdXJzZS5sZXZlbCA9PT0gY2F0ZWdvcnkpKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBzaG93IGFsbCBjb3Vyc2VzIHdoZW4gU2hvd0FsbCBpcyBjYWxsZWQnLCAoKSA9PiB7XHJcbiAgICBjb21wb25lbnQuU2hvd0FsbCgpO1xyXG4gICAgZXhwZWN0KGNvbXBvbmVudC5jb3Vyc2VzKS50b0VxdWFsKGNvbXBvbmVudC5vcmlnaW5hbF9jb3Vyc2VzKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZXNldCBzZWxlY3RlZCBjYXRlZ29yeSBhbmQgY291cnNlcyB3aGVuIHJlc3RhcnQgaXMgY2FsbGVkJywgKCkgPT4ge1xyXG4gICAgY29tcG9uZW50LnJlc3RhcnQoKTtcclxuICAgIGV4cGVjdChjb21wb25lbnQuc2VsZWN0ZWRfY2F0ZWdvcnkpLnRvRXF1YWwoJ2FsbCcpO1xyXG4gICAgZXhwZWN0KGNvbXBvbmVudC5jb3Vyc2VzKS50b0VxdWFsKGNvbXBvbmVudC5vcmlnaW5hbF9jb3Vyc2VzKTtcclxuICB9KTtcclxufSk7Il0sInZlcnNpb24iOjN9